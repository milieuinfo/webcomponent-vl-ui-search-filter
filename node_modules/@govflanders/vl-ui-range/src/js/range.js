/**
 * Range
 */

import '@govflanders/vl-ui-core/src/js/core';
import RangeSlider from './rangeSlider';

const raClass = `js-${vl.ns}range`,
  raAtt = `data-${vl.ns}range`,
  raDressedAtt = `${raAtt}-dressed`;

class Range {
  /**
   * dressAll function for the range functionality
   * @return {false}
   */
  dressAll() {
    const elements = document.querySelectorAll(
      `.${raClass}:not([${raDressedAtt}]):not([data-vl-js-dress="false"]),
      [${raAtt}]:not([${raDressedAtt}]):not([data-vl-js-dress="false"])`
    );

    vl.util.each(elements, rangeEl => {
      rangeEl.setAttribute(raDressedAtt, true);

      let rangeSlider = new RangeSlider(rangeEl);

      rangeSlider.dress();
    });
  }
}

if(!('range' in vl)) {
  vl.range = new Range();
  vl.range.dressAll();
}

export default Range;
