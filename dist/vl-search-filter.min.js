import{nativeVlElement,define}from"/node_modules/vl-ui-core/dist/vl-core.min.js";import"/node_modules/vl-ui-titles/dist/vl-titles.min.js";export class VlSearchFilter extends(nativeVlElement(HTMLDivElement)){static get _observedAttributes(){return["title"]}static get _observedClassAttributes(){return["alt","mobile-modal"]}connectedCallback(){this.classList.add("vl-search-filter"),this.querySelectorAll("form").forEach((e=>e.classList.add(`${this._elementPrefix}form`))),this.querySelectorAll("form > section").forEach((e=>e.classList.add(`${this._elementPrefix}section`))),this.querySelectorAll("form > section > h2").forEach((e=>e.classList.add(`${this._elementPrefix}section-title`))),this.querySelectorAll("form > section > div").forEach((e=>e.classList.add(`${this._elementPrefix}field`))),this.querySelectorAll("form > section > div > label").forEach((e=>e.classList.add(`${this._elementPrefix}field__label`))),this.querySelectorAll("form > div").forEach((e=>e.classList.add(`${this._elementPrefix}field`))),this._footerElements.forEach((e=>e.classList.add(`${this._elementPrefix}footer`)))}get formData(){return new FormData(this.querySelector("form"))}get _classPrefix(){return this._elementName+"--"}get _elementPrefix(){return this._elementName+"__"}get _elementName(){return"vl-search-filter"}get _titleElement(){return this._introElement||this._headerElement}get _introElement(){return this.querySelector(`.${this._elementPrefix}intro`)}get _headerElement(){return this.querySelector(`.${this._elementPrefix}header-modal`)}get _footerElements(){return[...this.querySelectorAll("form ~ div")]}get _submitButton(){return this.querySelector('button[type="submit"]')}get _title(){return this.getAttribute("data-vl-title")}_titleChangedCallback(e,t){null==this._titleElement?this.insertBefore(this.__createTitleElement(),this.firstChild):this._titleElement.textContent=t}_mobileModalChangedCallback(e,t){this._titleElement&&this._titleElement.remove(),null!=t?(this.insertBefore(this.__createHeaderElement(),this.firstChild),this.__moveFooterElementsToHeader(),this.__convertSubmitButtonContainerToFooter()):this._titleChangedCallback(void 0,this._title)}__createTitleElement(){const e=document.createElement("p");return e.classList.add(`${this._elementPrefix}intro`),e.textContent=this._title,e}__createHeaderElement(){const e=document.createElement("div");e.classList.add(`${this._elementPrefix}header-modal`);const t=document.createElement("h2","vl-h2");return t.textContent=this._title,e.appendChild(t),e}__moveFooterElementsToHeader(){this._footerElements.flatMap((e=>[...e.children])).forEach((e=>{this._titleElement.appendChild(e),e.classList.add(`${this._elementPrefix}header__clear`)}))}__convertSubmitButtonContainerToFooter(){if(this._submitButton){this._submitButton.setAttribute("data-vl-block","");const e=this._submitButton.parentElement;e.classList.add(`${this._elementPrefix}footer-modal`),this._element.appendChild(e)}}}define("vl-search-filter",VlSearchFilter,{extends:"div"});